{"ast":null,"code":"import { DEFAULT_ID_KEY } from './defaultIDKey';\nimport { arrayAdd } from './arrayAdd';\nimport { arrayUpdate } from './arrayUpdate';\nimport { isObject } from './isObject';\n/**\n * Upsert item in a collection\n *\n * @example\n *\n *\n * store.update(1, entity => ({\n *   comments: arrayUpsert(entity.comments, 1, { name: 'newComment' })\n * }))\n */\nexport function arrayUpsert(arr, id, obj, idKey = DEFAULT_ID_KEY) {\n  const entityIsObject = isObject(obj);\n  const entityExists = arr.some(entity => entityIsObject ? entity[idKey] === id : entity === id);\n  if (entityExists) {\n    return arrayUpdate(arr, id, obj, idKey);\n  } else {\n    return arrayAdd(arr, entityIsObject ? {\n      ...obj,\n      [idKey]: id\n    } : obj);\n  }\n}\n//# sourceMappingURL=arrayUpsert.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}